"0","# Custom color values and labels"
"0","color_values <- c(""lightlyactiveminutes"" = ""#7DCE82"", ""fairlyactiveminutes"" = ""#E8E288"", ""veryactiveminutes"" = ""#FF8360"")"
"0","label_values <- c(""moderate activity"", ""ligth activity"", ""very active"")"
"0",""
"0","# adding total to the dataset"
"0","daily_activity_summary$total = sum(daily_activity_summary$minutes)"
"0",""
"0","# Recalculate the percentage just in case and format it"
"0","daily_activity_summary_transformed <- daily_activity_summary %>%"
"0","  mutate(percentage = minutes / total) %>%"
"0","  mutate(labels = percent(percentage))"
"0",""
"0","# Plotting a pie chart "
"0","ggplot(daily_activity_summary_transformed, aes(x = """", y = percentage, fill = activitytype)) +"
"0","  geom_bar(stat = ""identity"", width = 1) +"
"0","  coord_polar(theta = ""y"") +"
"0","  theme_void() +"
"0","  scale_fill_manual(values = color_values, labels = label_values) +"
"0","  labs("
"0","    title = ""intensity Distribution in Total"","
"0","    fill = ""intensity"") +"
"0","  geom_text(aes(label = scales::percent(percentage)), position = position_stack(vjust = 0.45), color = ""black"")"
